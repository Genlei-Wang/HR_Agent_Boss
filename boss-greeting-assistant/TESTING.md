# Boss招聘智能助手 - 测试指南

## 前置准备

### 1. 安装依赖

```bash
cd boss-greeting-assistant
npm install
```

### 2. 构建扩展

```bash
npm run build
```

构建完成后，会在 `dist/` 目录生成扩展文件。

### 3. 加载到Chrome

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `dist/` 目录
6. 扩展加载成功后，会显示在扩展列表中

### 4. 准备Gemini API Key

1. 访问 [Google AI Studio](https://aistudio.google.com/app/apikey)
2. 创建或获取您的Gemini API Key
3. 复制API Key备用

---

## 功能测试清单

### 阶段一：基础功能测试

#### 1.1 Side Panel显示测试

- [ ] 点击扩展图标，侧边栏能正常打开
- [ ] UI布局显示正常，无错位
- [ ] 所有输入框和按钮可见

#### 1.2 API Key配置测试

- [ ] 输入API Key并点击"保存"
- [ ] 点击"测试连接"，显示成功提示
- [ ] 输入无效API Key，显示错误提示
- [ ] 刷新页面后，API Key仍然保存

#### 1.3 参数配置测试

- [ ] 修改候选人数量（1-100），能正常保存
- [ ] 输入JD描述，字数统计显示正确
- [ ] JD少于20字时，显示警告提示
- [ ] 调整操作间隔时间，能正常保存

---

### 阶段二：核心功能测试

#### 2.1 页面识别测试

1. 打开Boss直聘候选人推荐页面：
   - https://www.zhipin.com/web/geek/recommend
   
2. 确认页面有候选人列表

3. 点击"开始打招呼"按钮

**预期结果**：
- [ ] 系统能识别Boss直聘页面
- [ ] 能获取候选人列表
- [ ] 开始自动化流程

#### 2.2 候选人信息提取测试

1. 观察第一个候选人的处理过程

**预期结果**：
- [ ] 能点击候选人卡片
- [ ] 详情页能正常打开
- [ ] 能识别候选人姓名、年龄、学历等信息

#### 2.3 Canvas截图测试

1. 在详情页打开时，观察Console日志

**预期结果**：
- [ ] 能定位到Canvas元素
- [ ] 截图功能执行成功
- [ ] 无报错信息

#### 2.4 AI分析测试

1. 输入清晰的JD描述，例如：
   ```
   岗位要求：
   - 3年以上前端开发经验
   - 熟练掌握React/Vue框架
   - 有大型项目经验
   - 本科及以上学历
   ```

2. 观察AI分析结果

**预期结果**：
- [ ] AI能返回匹配结果（match: true/false）
- [ ] 置信度在0-1之间
- [ ] 提供匹配原因
- [ ] 日志中显示完整信息

#### 2.5 打招呼功能测试

1. 对于匹配的候选人

**预期结果**：
- [ ] 能找到"打招呼"按钮
- [ ] 点击按钮成功
- [ ] 日志显示"已打招呼"
- [ ] 详情页能正常关闭

#### 2.6 批量处理测试

1. 设置候选人数量为5人
2. 点击"开始打招呼"

**预期结果**：
- [ ] 能连续处理5个候选人
- [ ] 每个候选人间有延迟
- [ ] 统计数据正确更新
- [ ] 所有日志正常记录

---

### 阶段三：风控功能测试

#### 3.1 随机延迟测试

1. 观察每个候选人的处理时间

**预期结果**：
- [ ] 每次操作间隔不固定
- [ ] 间隔时间在配置范围内
- [ ] 不会出现规律性延迟

#### 3.2 每日限额测试

1. 查看Chrome DevTools > Application > Storage > Local Storage
2. 检查 `daily_stats` 数据

**预期结果**：
- [ ] 每次打招呼后，计数+1
- [ ] 达到100次后，提示已达上限
- [ ] 次日自动重置

#### 3.3 验证码检测测试

1. 如果触发Boss直聘验证码

**预期结果**：
- [ ] 系统能检测到验证码
- [ ] 自动暂停运行
- [ ] 弹窗提示用户处理
- [ ] 处理后能继续运行

#### 3.4 停止功能测试

1. 运行过程中点击"停止"按钮

**预期结果**：
- [ ] 立即停止处理
- [ ] 当前统计数据保留
- [ ] 可以重新开始

---

### 阶段四：异常处理测试

#### 4.1 网络异常测试

1. 关闭网络连接
2. 尝试启动自动化

**预期结果**：
- [ ] 显示网络错误提示
- [ ] 不会崩溃
- [ ] 错误日志记录

#### 4.2 API超时测试

1. 使用较慢的网络
2. 观察AI分析过程

**预期结果**：
- [ ] 超时后显示错误
- [ ] 跳过当前候选人
- [ ] 继续处理下一个

#### 4.3 DOM变化测试

1. 刷新Boss直聘页面
2. 观察是否仍能正常工作

**预期结果**：
- [ ] 能适应页面刷新
- [ ] 重新识别DOM元素
- [ ] 功能正常

---

### 阶段五：日志功能测试

#### 5.1 日志记录测试

1. 处理若干候选人后，查看日志区

**预期结果**：
- [ ] 每个候选人都有日志
- [ ] 日志包含完整信息
- [ ] 时间戳正确
- [ ] 匹配结果清晰

#### 5.2 日志导出测试

1. 点击"导出日志"按钮

**预期结果**：
- [ ] 成功下载TXT文件
- [ ] 文件内容格式正确
- [ ] 统计数据准确
- [ ] 中文显示正常

---

## 性能测试

### 内存占用

1. 打开Chrome任务管理器（Shift+Esc）
2. 观察扩展内存占用

**预期结果**：
- [ ] 初始内存 < 50MB
- [ ] 运行过程中 < 150MB
- [ ] 无明显内存泄漏

### 响应速度

1. 测试各项操作的响应时间

**预期结果**：
- [ ] UI操作响应 < 100ms
- [ ] 候选人处理 < 30s/人
- [ ] AI分析 < 10s

---

## 已知问题

### 1. Boss直聘DOM结构变化

**问题**：Boss直聘可能更新页面结构，导致选择器失效

**解决方案**：
- 定期检查DOM选择器
- 快速更新适配

### 2. API限流

**问题**：Gemini API可能限流

**解决方案**：
- 增加重试机制
- 提示用户稍后再试

### 3. 浏览器权限

**问题**：某些浏览器可能限制截图权限

**解决方案**：
- 检查扩展权限
- 提示用户授权

---

## 测试报告模板

```
测试日期：____
测试人员：____
Chrome版本：____
扩展版本：1.0.0

测试结果：
- 基础功能：[ ] 通过 [ ] 失败
- 核心功能：[ ] 通过 [ ] 失败
- 风控功能：[ ] 通过 [ ] 失败
- 异常处理：[ ] 通过 [ ] 失败
- 日志功能：[ ] 通过 [ ] 失败

问题列表：
1. ________
2. ________

建议：
1. ________
2. ________
```

---

## 下一步优化方向

1. **性能优化**
   - 减少不必要的DOM查询
   - 优化截图算法
   - 缓存候选人信息

2. **用户体验**
   - 添加进度条动画
   - 更丰富的Toast提示
   - 快捷键支持

3. **功能增强**
   - 支持多JD模板
   - 候选人黑白名单
   - 数据统计分析

4. **稳定性**
   - 增加更多错误重试
   - 完善日志系统
   - 添加单元测试

