# Boss招聘智能助手 - 生产构建指南

> 📦 如何构建安全的生产版本，分发给HR使用

---

## 🎯 为什么需要生产构建？

生产构建会：
- ✅ 移除所有调试代码
- ✅ 移除调试服务器连接
- ✅ 优化代码大小
- ✅ 确保API Key等敏感信息不会泄露
- ✅ 提高性能和安全性

---

## 🚀 构建步骤

### 方法一：使用生产构建脚本（推荐）

```bash
cd boss-greeting-assistant
npm install  # 如果还没安装依赖
npm run build:prod  # 生产构建
npm run package:prod  # 打包分发文件
```

### 方法二：手动构建

```bash
cd boss-greeting-assistant
npm install
NODE_ENV=production npm run build
```

---

## 🔍 安全检查清单

构建完成后，请检查：

### 1. 检查调试代码

```bash
# 检查是否还有调试服务器地址
grep -r "127.0.0.1:7242" dist/

# 应该没有输出，如果有输出说明还有调试代码
```

### 2. 检查硬编码密钥

```bash
# 检查是否还有硬编码的API Key
grep -r "AIzaSy" dist/

# 应该没有输出
```

### 3. 检查console.log

```bash
# 检查是否还有大量console.log
grep -r "console.log" dist/ | wc -l

# 应该只有少量必要的日志
```

---

## 📦 打包分发

### 使用打包脚本

```bash
npm run package:prod
```

这会生成：
- `boss-greeting-assistant-v1.0.0.zip` - 可直接分发给HR
- `dist-package/` - 解压后的文件夹

### 手动打包

1. 构建完成后，`dist/` 目录就是生产版本
2. 压缩 `dist/` 目录为ZIP文件
3. 发送给HR

---

## 🔐 安全最佳实践

### 1. 代码审查

在构建前，确保：
- [ ] 没有硬编码的API Key
- [ ] 没有调试服务器地址
- [ ] 没有console.log泄露敏感信息
- [ ] 所有调试代码已移除或条件化

### 2. 版本管理

- 使用版本号标记每次构建
- 记录每次构建的变更
- 保留构建历史

### 3. 分发安全

- 通过安全渠道分发（公司内网、加密邮件等）
- 不要将插件上传到公开仓库
- 限制访问权限

---

## 📋 构建配置

### 环境变量

生产构建会自动设置：
- `NODE_ENV=production`
- `VITE_MODE=production`

这些变量会：
- 禁用调试日志
- 优化代码
- 移除开发工具

### Vite配置

`vite.config.ts` 已配置：
- 代码压缩
- 代码分割
- 资源优化

---

## 🐛 常见问题

### Q: 构建后文件太大？

A: 检查是否还有未使用的依赖，运行：
```bash
npm run build:prod -- --analyze
```

### Q: 构建失败？

A: 检查：
1. Node.js版本（需要16+）
2. 依赖是否完整安装
3. TypeScript错误

### Q: 如何验证生产构建？

A: 运行安全检查清单中的命令

---

## 📞 技术支持

如有问题，请联系项目负责人。

---

**最后更新**：2025-01-29

