const e={CANDIDATE_COUNT:50,DELAY_MIN:3,DELAY_MAX:8,DAILY_LIMIT:100,BREAK_INTERVAL_MIN:20,BREAK_INTERVAL_MAX:30,BREAK_DURATION_MIN:30,BREAK_DURATION_MAX:60},O={API_ENDPOINT:"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",TEMPERATURE:.2,TOP_K:40,TOP_P:.95,MAX_OUTPUT_TOKENS:8192,TIMEOUT:3e4},a={CONFIG:"plugin_config",DAILY_STATS:"daily_stats",LOGS:"operation_logs",API_KEY:"gemini_api_key",SESSION_LOGS:"session_logs",CURRENT_SESSION_ID:"current_session_id",SCREENSHOTS:"candidate_screenshots"},c={NO_API_KEY:"请先配置Gemini API Key"};var i=(t=>(t.START_AUTOMATION="START_AUTOMATION",t.STOP_AUTOMATION="STOP_AUTOMATION",t.PAUSE_AUTOMATION="PAUSE_AUTOMATION",t.RESUME_AUTOMATION="RESUME_AUTOMATION",t.ANALYZE_CANDIDATE="ANALYZE_CANDIDATE",t.TEST_API_KEY="TEST_API_KEY",t.CAPTURE_SCREENSHOT="CAPTURE_SCREENSHOT",t.GET_CANDIDATES_FROM_PAGE="GET_CANDIDATES_FROM_PAGE",t.CLICK_CARD="CLICK_CARD",t.CLICK_GREET="CLICK_GREET",t.CLOSE_DETAIL="CLOSE_DETAIL",t.GET_CANDIDATE_INFO="GET_CANDIDATE_INFO",t.GET_CANVAS_RECT="GET_CANVAS_RECT",t.LOG_UPDATE="LOG_UPDATE",t.STATUS_UPDATE="STATUS_UPDATE",t.STATS_UPDATE="STATS_UPDATE",t.ERROR_OCCURRED="ERROR_OCCURRED",t.CAPTCHA_DETECTED="CAPTCHA_DETECTED",t.AUTOMATION_COMPLETE="AUTOMATION_COMPLETE",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.CREATE_SESSION="CREATE_SESSION",t.SAVE_SESSION="SAVE_SESSION",t))(i||{});function I(){return`${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function T(t){return new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function R(t,n){const _=`Boss招聘智能助手 - 运行日志
导出时间: ${T(Date.now())}
运行统计: 处理${n.processed}人, 匹配${n.matched}人, 打招呼${n.greeted}人

========================================
`,A=t.map(E=>{const r=T(E.timestamp),o=`${E.candidateInfo.age||""} | ${E.candidateInfo.education||""} | ${E.candidateInfo.company||""}`;return`[${r}] ${E.candidateName} | ${o}
匹配结果: ${E.matchResult?"符合":"不符合"} (置信度: ${E.matchConfidence.toFixed(2)})
原因: ${E.matchReason}
动作: ${S(E.action)}
${E.errorMessage?`错误: ${E.errorMessage}`:""}
`}).join(`
`);return _+A+`
========================================`}function S(t){return{greeted:"已打招呼",skipped:"跳过",error:"错误"}[t]||t}function N(t,n){const _=new Blob([t],{type:"text/plain;charset=utf-8"}),A=URL.createObjectURL(_),E=document.createElement("a");E.href=A,E.download=n,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(A)}function C(t){return t.length>20&&/^[A-Za-z0-9_-]+$/.test(t)}function d(t){return!t||t.trim().length===0?{valid:!1,message:"请输入职位描述JD"}:t.trim().length<20?{valid:!1,message:"JD描述过短，可能影响匹配准确度"}:{valid:!0}}function D(t){try{return JSON.parse(t)}catch{const n=t.match(/\{[\s\S]*\}/);if(n)try{return JSON.parse(n[0])}catch{return null}return null}}export{e as D,c as E,O as G,i as M,a as S,d as a,D as b,N as d,R as e,T as f,I as g,C as v};
